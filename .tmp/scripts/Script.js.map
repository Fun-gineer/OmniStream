{"version":3,"sources":["Script.js"],"names":[],"mappings":"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","file":"Script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n//SEARCH FOR GAMES (FROM A PREMADE LIST)\r\n// https://api.twitch.tv/kraken/streams?game=Ultra%20Street%20Fighter%20IV\r\n//SEARCH FOR CHANNELS FROM A PREMADE LIST\r\n// https://api.twitch.tv/kraken/streams?channel=KatGunn\r\n\r\n// https://api.twitch.tv/kraken/search/channels?q=Lineage%20II:%20The%20Chaotic%20Chronicle\r\n// https://api.twitch.tv/kraken/search/games?q=Lineage&type=suggest&live\r\n\r\n//THIS ONE WILL DO PARTIAL QUERIES FOR STREAMS\r\n// https://api.twitch.tv/kraken/search/streams?q=Lineage&limit=100&offset=0&type=suggest&live\r\n//THIS ONE WILL DO PARTIAL QUERIES FOR GAMES\r\n//https://api.twitch.tv/kraken/search/games?q=counter&limit=100&offset=0&type=suggest&live\r\n// THIS ONE WILL DO PARTIAL QUERIES AGAINST ALL\r\n//https://api.twitch.tv/kraken/search/channels?q=Programming\r\n\r\n\r\n\r\n\r\n\"use strict\";\r\n// window.onload = function(){\r\n$(function(){\r\n\r\n\t// document.domain=document.domain;\t//iframe->document port matching. The Twitch API sets the domain correctly, so no problems there\r\n\r\n\t// window.classFun = require('./classy.js');\r\n\t(require('./streamUtils.js'))();\r\n\twindow.cookies= new (require('./cookies.js'));\r\n\twindow.mobile= new (require('./mobile.js'));\r\n\twindow.list= new(require('./listManager.js'));\r\n\twindow.parseURL= require('./parseURL.js');\r\n\twindow.renderStreams= require('./renderStreams.js');\r\n\twindow.cResizer= new(require('./columnResizer.js'));\r\n\r\n\t//init script\r\n\t(require('./init.js'))();\r\n\t// alert(window.isMobile);\r\n\r\n\twindow.addToFavStreams= function(value, refreshing){\r\n\t\tif(value!=''  && value!=null && typeof(value)!='undefined') SortedFavoritesString = value;\r\n\r\n\t\tconsole.log('Sorted favorites string:');\r\n\t\tconsole.log(SortedFavoritesString);\r\n\r\n\t\tlist.NoListLockout=false;\r\n\t\t\t\tif(refreshing) {\r\n\t\t\t\t\tlist.flushNumListedStreams();\r\n\t\t\t\t\tlist.NumListedStreamsEnd=list.CNumListedStreamsEnd;\r\n\t\t\t\t\tlist.FavIndexL=list.CNumListedStreamsStart;\r\n\t\t\t\t\tlist.FavIndexH=list.CNumListedStreamsEnd;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\t//ONLY USE A SUBSET OF Favorites TO QUERY\r\n\t\t\t\t\t//HAVE TO CHOP SOME ELEMENTS OFF OF FavoritesString. SO TURN INTO AN ARRAY, SLICE IT, THEN STRINGIFY IT AGAIN\r\n\t\t\tvar res = SortedFavoritesString.split(',');\r\n\tconsole.log('making requests in loop to add to favorites');\r\n\r\n\t\t\tvar length = 0;\r\n\t\t\tvar lc = 0;\r\n\t\t\tloop();\r\n\r\n\t\t\tfunction loop(){\r\n\r\n\t\t\t\tvar qString = res.slice(list.FavIndexL,list.FavIndexH).toString();\r\n\tconsole.log('qString');\r\n\tconsole.log(qString);\r\n\r\n\t\t\t\t\t\t\tif (lc == 4 || qString=='' || qString==null) {list.NoListLockout=true; return;}\r\n\t\t\t\t\t\t\tlc++;\r\n\r\n\t\t\t\t$.getJSON('https://api.twitch.tv/kraken/streams?channel='+qString+'&callback=?')\r\n\t\t\t\t.done(function(favorites){\r\n\t\t\t\t\t// Favorites.push(favorites);\t\t//SET THE GLOBAL FAVORITES TO THE RESULT\r\n\t\t\t\t\tconsole.log('addToFavStreams favorites:');\r\n\t\t\t\t\tconsole.log(favorites);\r\n\t\t\t\t\t  list.NumListedStreamsEnd+=favorites.streams.length;\r\n\t\t\t\t\t\tlist.listLoader(favorites,refreshing,false,list.NumListedStreamsEnd);\r\n\t\t\t\t\t\tlist.NumListedStreamsStart+=favorites.streams.length;\r\n\t\t\t\t\t\tlist.FavIndexL+=list.CNumListedStreamsEnd;\r\n\t\t\t\t\t\tlist.FavIndexH+=list.CNumListedStreamsEnd;\r\n\t\t\t\t\t\trefreshing = false;\r\n\t\t\t\t\t\tlength += favorites.streams.length;\r\n\t\t\t\t\t\tif (length < 1)  loop();\r\n\t\t\t\t\t\telse {lc=4; list.NoListLockout=true;}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t//WE ONLY WANT TO HIT THE TWITCH API EVERY FEW DAYS OR SO TO REFRESH FAVORITES, ELSE THERE WOULD BE TOO MANY HITS\r\n\t//HIT THE API TO REFRESH THE FAVORITES STRING IN LOCAL STORAGE EVERY THREE DAYS. SET THE GLOBAL FavoritesString TO localStorage.FavoritesString\r\n\t\t\t//THIS IS ONLY MADE TO BE RUN AT STARTUP TO LOAD THE OLD FavoritesString TO SEE IF IT'S EXPIRED... USE FRefreshSession INSTEAD OF\r\n\t\t\t//FRefresh COOKIE TO TRACK VIEWERCOUNT STALENESS\r\n\t\t\t//NOTE FRefresh IS FOR CHECKING FOR FAVORITES LIST STALENESS, WHILE FRefreshSession IS TO CHECK FOR VIEWERCOUNT STALENESS ON FRefresh LIST'S MEMBERS (they have different expiry dates)\r\n\twindow.refreshFavoritesString= function(force){\r\n\r\n\t\t//CHECK THE BROWSER FOR LOCAL STORAGE SUPPORT AND SEE IF COOKIES ARE ENABLED...\r\n\t\t\tif(storageEnabled && cookies.CookiesEnabled) {\r\n\t\t\t\tif(force || typeof (localStorage.FavoritesString) == 'undefined' || localStorage.FavoritesString == null || cookies.getCookie('FRefresh') == null || cookies.getCookie('FRefresh') == ''){\r\n\t\t\t\t\tconsole.log('refreshed FavoritesString');\r\n\t\t\t\t\t$.getJSON('https://api.twitch.tv/kraken/users/'+Username+'/follows/channels?limit='+CFavStreamsSearchLimit+'&offset=0&callback=?')\r\n\t\t\t\t\t.done(function(arr){           //ON SUCCESS\r\n\r\n\t\t\t\t\t\t\t\t\tvar stringArray = [];\r\n\t\t\t\t\t\t\t\tarr.follows.forEach(function(stream){\r\n\t\t\t\t\t\t\t\t\tstringArray.push(stream.channel.name);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t//SAVE THE FAVORITES STRING INTO LOCAL STORAGE, MAKE A TRACKING COOKIE THAT GIVES IT AN EXPIRY DATE\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"FavoritesString\", stringArray.toString());\r\n\t\t\t\t\t\t\t\t\t\tcookies.setCookie(\"FRefresh\", true, 3);\r\n\t\t\t\t\t\t\t\t\t  deferred1.resolve(localStorage.FavoritesString);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// localStorage.removeItem(\"lastname\");\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t//ON ERROR\r\n\t\t\t\t\t.fail(function(){\r\n\t\t\t\t\t\tconsole.log('ATTEMPT TO GET USER\\'S FOLLOWED STREAMS FAILED!' );\r\n\t\t\t\t\t\tdeferred1.resolve('');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}\r\n\t\t\t\telse deferred1.resolve(localStorage.FavoritesString);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t    console.log('Favorites wont work - you need to enable cookies and local storage. You may not have native local storage support in your browser');\r\n\t\t\t\t\t$('#favStreams').off('click');\r\n\t\t\t\t\tdeferred1.resolve('');\r\n\t\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //CONFIG VARIABLES\r\nwindow.CFavStreamsSearchLimit = 400;   //maximum number of followed streams to fetch from the API to inspect for live-ness to populate the favorites list\r\nwindow.CHideGame = false;\r\nwindow.CHideDesc = true;\r\nwindow.CSaveRecentStreams = true;\r\n\r\n\r\n  //INITIALIZE\r\nwindow.NumStreams=1;  //number of streams being displayed, NOT the number of streams in the watching-list\r\nwindow.SelectedStream=0;   //the stream that is \"active\" to be changed on a list click\r\nwindow.WatchingStreams=[]; //the streams being watched\r\nwindow.DivideStreams='horizontal';\r\nwindow.ActiveChat=0;\r\nwindow.addListTimer = null;\r\nwindow.FirstTimeRenderingStreams = true;\r\nwindow.ListIsHidden = false;\r\nwindow.ChatIsHidden = false;\r\nwindow.SingleStreamSelectorOffset=0;\r\nwindow.URL='';       //without appended streams or index.html#\r\nwindow.UrlParams=[];\r\nwindow.ChangingSingleStreams=false;    //used in the renderStreams function's .Init listener on the flash players to correctly show the channel number on SelectedStream change\r\nwindow.Favorites=[];\r\nwindow.FavoritesFirstClick=true;\r\nwindow.FavoritesString = '';\r\nwindow.SortedFavoritesString = '';\r\nwindow.deferred1 = $.Deferred();\r\nwindow.deferred2 = $.Deferred();\r\n\r\n\r\n\r\n  //CACHE DOM\r\nwindow.$list = $('#list');\r\nwindow.$colList = $('.colList');\r\nwindow.$streams = $('.colStreams');\r\nwindow.$chat = $('.colChat');\r\nwindow.$selectedStreamPopup = window.$streams;    //meaningless; purely for initialization;\r\nwindow.$filterList = $('#filterList');\r\n\r\n\r\n  //RUN\r\ncookies.getStreamCookies();        //brings back the streams stored in the cookies session and updates the URL to reflect that (but only if a custom URL is not set)\r\n// alert(window.history.length);\r\n\r\nshowStreamsLoadScreen();\r\ncookies.getLayoutCookies();     //loads layout cookies and does resizing\r\ncResizer.setResizableColumns('sample',true,cResizer.ResetStreamColumnDrag);\r\naddToRecentStreams();   //sets recent streams to the streams you are initially watching\r\n\r\nlist.populateList(list.DefaultRequestURL,true);\r\nlist.controlListScroll();\r\n\r\n(require('./keyListenersSetup.js'))();\r\n(require('./streamListButtonListeners.js'))();\r\n(require('./closeListener.js'))();  //creates cookies to store layout info for getLayoutCookies and getStreamCookies\r\ncResizer.setResizableStreamList();\r\n\r\n\r\n});\r\n\r\n\r\n//THIS IS THE MASTER THAT REFRESHES ALL THE RESIZERS AT ONCE\r\n// function ResetAllDragColumns(){\r\n//   ResetOuterColumnDrag();\r\n//   ResetStreamColumnDrag();\r\n// }\r\n\r\n\r\n    //WINDOW.RESIZEBY() (ONLY WORKS ON WINDOWS YOU MADE) NEED THIS TO UNBREAK THE CHAT. THE CHAT DOESNT FIT ITSELF WHEN YOU FIRST EMBED IT.\r\n// function DoBrowserResizeCycle(){\r\n//   var height = $(window).height();\r\n//   var width = $(window).width();\r\n//   alert($(window).width());\r\n//   window.resizeBy(-500, 0);\r\n//   alert($(window).width());\r\n//   // window.resizeTo(width, height);\r\n// }\r\n\r\n\r\n// this.$OuterDiv = $(document.createElement('div'))     //$('<div></div>') also works instead of document.create....\r\n//     .hide()\r\n//     .append($('<table></table>')\r\n//         .attr({ cellSpacing : 0 })\r\n//         .addClass(\"text\")\r\n//     );\r\n//\r\n//\r\n\r\n// player.pauseVideo();\r\n// player.mute();\r\n\r\n\r\n// $(document).ready(function() {\r\n//     $(\"a\").click(function(event) {\r\n//         alert(event.target.id);\r\n//     });\r\n// });\r\n//\r\n// $(document).ready(function() {\r\n//     $(\"a\").click(function(event) {\r\n//         // this.append wouldn't work\r\n//         $(this).append(\" Clicked\");\r\n//     });\r\n// });\r\n\r\n    //WRAP FUNCTION\r\n// $( \".inner\" ).wrap(function() {\r\n//   return \"<div class='\" + $( this ).text() + \"'></div>\";\r\n// });\r\n\r\n    //GETTING % WIDTHS OF ELEMENTS (here its class of box)\r\n// var width = $('.box').clone().appendTo('body').wrap('<div style=\"display: none\"></div>').css('width');\r\n// alert(width);\r\n\r\n     //CSS\r\n//$chat.css({\"width\": \"30%\", \"height\": \"100%\"});\r\n\r\n     //WINDOW.LOCATION\r\n// window.location.href returns the href (URL) of the current page\r\n// window.location.hostname returns the domain name of the web host\r\n// window.location.pathname returns the path and filename of the current page\r\n// window.location.protocol returns the web protocol used (http:// or https://)\r\n// window.location.assign loads a new document\r\n\r\n\r\n\t//MONITOR EVENTS\r\n//type in console:\r\n\t// monitorEvents($0)\t\t//$0 is just the last element in the DOM, can replace with whatever you want\r\n\t// unmonitorEvents($0)\r\n\n},{\"./closeListener.js\":2,\"./columnResizer.js\":3,\"./cookies.js\":4,\"./init.js\":5,\"./keyListenersSetup.js\":6,\"./listManager.js\":7,\"./mobile.js\":8,\"./parseURL.js\":9,\"./renderStreams.js\":10,\"./streamListButtonListeners.js\":11,\"./streamUtils.js\":12}],2:[function(require,module,exports){\n//COOKIES - GET LAYOUT ON CLOSE, GET WATCHING STREAMS\r\n  function createCloseListener(){\r\n      window.onbeforeunload = function(e) {\r\n\r\n         cookies.setCookie(\"listw\", $colList.width(), 90);\r\n         cookies.setCookie(\"chatw\", $chat.width(), 90);\r\n         cookies.setCookie(\"streamsw\", $streams.width(), 90);\r\n         cookies.setCookie(\"ListRefreshTimeMinutes\", list.CListRefreshTimeMinutes, 90);\r\n         if (window.CSaveRecentStreams) localStorage.RecentStreams = window.RecentStreams.toString();\r\n         else localStorage.RecentStreams = '';\r\n        //  localStorage.removeItem('RecentStreams');\r\n\r\n         for (var i=0;i<4;i++){\r\n           if(window.WatchingStreams[i]!='' && window.WatchingStreams[i]!=null) cookies.setCookie(\"stream\"+i, window.WatchingStreams[i], 90);\r\n           else { while(i<4){\r\n                cookies.setCookie(\"stream\"+i,'', 90);\r\n                ++i;\r\n                // alert(\"set cookie \" + window.WatchingStreams[i]);\r\n              }\r\n             break;}\r\n          //  alert(window.WatchingStreams[i]);\r\n         }\r\n         \r\n        return null;   //THIS IS THE EVENT HANDLER (FUNCTION) FOR CLOSING THE TAB (OR REFRESHING). WE DONT NEED ONE HERE\r\n        }\r\n    }\r\n\r\nmodule.exports= createCloseListener;\r\n\n},{}],3:[function(require,module,exports){\n//FOR RESIZABLE COLUMN SUPPORT\r\n  //CAN MAKE A SEPARATE RESIZE HANDLERR FOR EACH EMBEDDED RESIZABLE COLUMN SET, MAKING THEM CALL DOWN THE CHAIN RECURSIVELY.\r\n  //THIS WILL REFRESH THE ENTIRE CHAIN DOWNWARDS WHEN A HIGHER LEVEL COLUMN ANCHOR IS MOVED, KEEPING ALL LOWER LEVEL ANCHORS ACCURATE\r\n\r\nclass columnResizer {\r\n\r\n  setResizableColumns(id,isOuter,resizeChildHandler){\r\n    if(isOuter){\r\n      $(\"#\"+id).colResizable(\r\n        {liveDrag:true,\r\n         gripInnerHtml:\"<div class='grip'></div>\",\r\n        draggingClass:\"dragging\",\r\n        partialRefresh:\"true\",\r\n        onResize: function(){\r\n                  // chatWidth=$chat.width();\r\n                  // listWidth=$colList.width();\r\n                    //THIS IS A HACK TO FIX THE TWITCH DRAGGING-CHAT-OF-DEATH\r\n                  // if(NumStreams>1) renderStreams();\r\n\r\n                resizeChildHandler()\r\n                }\r\n       }\r\n      );\r\n   }\r\n   else {\r\n     $(\"#\"+id).colResizable(\r\n       {liveDrag:true,\r\n        gripInnerHtml:\"<div class='grip'></div>\",\r\n       draggingClass:\"dragging\",\r\n       partialRefresh:\"true\"      //might not even be neccessary\r\n      }\r\n     );\r\n   }\r\n  }\r\n\r\n  ResetOuterColumnDrag(){\r\n      $(\"#sample\").colResizable({\r\n        disable:true\r\n      });\r\n\r\n    this.setResizableColumns('sample',true,this.ResetStreamColumnDrag);\r\n     }\r\n\r\n     //NEED TO USE THIS TO MOVE THE STREAM COLUMN RESIZER HANDLES WHEN YOU SHOW OR HIDE THE SIDE COLUMNS\r\n   ResetStreamColumnDrag(){\r\n     if(window.NumStreams>1){\r\n         $(\"#streamTable\").colResizable({\r\n           disable:true\r\n       });\r\n   }\r\n      this.setResizableColumns('streamTable',false,null);\r\n     }\r\n\r\n    //FOR THE STREAM LIST\r\n  setResizableStreamList(){\r\n    $(\"#listTable\").colResizable(\r\n      {liveDrag:true,\r\n       gripInnerHtml:\"<div class='grip'></div>\",\r\n      draggingClass:\"dragging\",\r\n      // partialRefresh:\"true\"      //might not even be neccessary\r\n     }\r\n    );\r\n  }\r\n\r\n}\r\n\r\nmodule.exports= columnResizer;\r\n\n},{}],4:[function(require,module,exports){\n//COOKIE UTILITY FUNCTIONS\r\nclass cookies{\r\n\r\n\t setCookie(cName, cValue, expiryDays) {\r\n\t    var d = new Date();\r\n\t    d.setTime(d.getTime() + (expiryDays*24*60*60*1000));\r\n\t    var expires = \"expires=\"+d.toUTCString();\r\n\t    document.cookie = cName + \"=\" + cValue + \"; \" + expires;\r\n\t}\r\n\r\n\t getCookie(cName) {\r\n\t    var name = cName + \"=\";\r\n\t    var ca = document.cookie.split(';');\r\n\t    for(var i=0; i<ca.length; i++) {\r\n\t        var c = ca[i];\r\n\t        while (c.charAt(0)==' ') c = c.substring(1);\r\n\t        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\r\n\t    }\r\n\t    return \"\";\r\n\t}\r\n\r\n\r\n\t areCookiesEnabled(){\r\n\t\tvar cookieEnabled = (navigator.cookieEnabled) ? true : false;\r\n\r\n\t\tif (typeof navigator.cookieEnabled == \"undefined\" && !cookieEnabled){\r\n\t\t\tdocument.cookie=\"testcookie\";\r\n\t\t\tcookieEnabled = (document.cookie.indexOf(\"testcookie\") != -1) ? true : false;\r\n\t\t}\r\n\t\tthis.CookiesEnabled = cookieEnabled;\r\n\t\treturn cookieEnabled;\r\n\r\n\t}\r\n\r\n\r\n\r\n\t//COOKIES - SET LAYOUT\r\n\tgetLayoutCookies() {\r\n\r\n\t      //SIZING WITH COOKIES AND SIZING RESET STUFF - USES PIXELS, SO NOT REALLY FUTURE-PROOF\r\n\t      //WILL FALL BACK TO DEFAULTS IF THE USER BREAKS COLUMN SIZES\r\n\t    try{\r\n\t    var chatw = cookies.getCookie(\"chatw\");\r\n\t      if (chatw != \"\" && chatw>50 && chatw<650) {} else throw BreakException;\r\n\t    var listw = cookies.getCookie(\"listw\");\r\n\t      if (listw != \"\" && listw>80 && listw<500) {} else throw BreakException;\r\n\t    var streamsw = cookies.getCookie(\"streamsw\");\r\n\t      if (streamsw != \"\" && streamsw>350) {} else throw BreakException;\r\n\r\n\t    // alert('Chat Width: '+chatw); alert('List Width: '+listw); alert('Streams Width: '+streamsw);\r\n\r\n\t    //HAVE COOKIE RESTORE DISABLED ATM\r\n\t    window.$colList.width(listw);\r\n\t    window.$chat.width(chatw);\r\n\t    window.$streams.width(streamsw);\r\n\r\n\t    // alert('Chat Width: '+chatw); alert('List Width: '+listw); alert('Streams Width: '+streamsw);\r\n\t    }\r\n\t    catch (e) {console.log('Reverted column dimensions to default')}\r\n\r\n\t  }\r\n\r\n\r\n\r\n\t//COOKIES - BRING BACK PREVIOUS STREAMS (BUT ONLY IF URL PARAMS ARE NOT SET)\r\n\tgetStreamCookies(){\r\n\t  if(typeof window.UrlParams[0] == 'undefined' && this.CookiesEnabled){\r\n\t    console.log('No URL params. loading cookies');\r\n\t    var push='index.html#';\r\n\t    for (var i=0;i<4;i++){\r\n\t      var cookie = window.cookies.getCookie('stream'+i);\r\n\t      if(cookie!=null && cookie!='') {\r\n\t        push+='/'+cookie;\r\n\t        window.WatchingStreams[i]=cookie;\r\n\t        console.log('stream '+i+'- '+cookie);\r\n\t      }\r\n\t      else {window.history.pushState(null, null, push); break;}\r\n\t    }\r\n\t    console.log('cookies used to populate streams. URL: ' + URL);\r\n\t  }\r\n\t  else{\r\n\t\t\tconsole.log('Using URL to populate streams');\r\n\t\t\twindow.fillStreamsFromURL();\r\n\t\t};\r\n\t}\r\n\r\n\r\n};\r\n\r\nmodule.exports=cookies;\r\n\n},{}],5:[function(require,module,exports){\nfunction init(){\r\n\r\n      window.storageEnabled = (function(){\r\n        var test = 'test';\r\n        try {\r\n          localStorage.setItem(test, test);\r\n          localStorage.removeItem(test);\r\n          return true;\r\n        } catch(e) {\r\n          return false;\r\n        }\r\n      })();\r\n\r\n      // var Flash_Installed = ((typeof navigator.plugins !== \"undefined\" && typeof navigator.plugins[\"Shockwave Flash\"] === \"object\") || (window.ActiveXObject && (new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\")) !== false));\r\n      window.Flash_Installed = (swfobject.hasFlashPlayerVersion(\"1\")) ? true : false;\r\n\r\n\r\n\r\n  //matchMedia is relatively new. Theres a modernizr equivalent and a polyfill on github\r\n      window.isMobile = window.matchMedia(\"(max-width: 1300px)\").matches;\r\n      //mq.matches as a test (not a function)\r\n\r\n\r\n        //ENLARGE MENU ICONS FOR TOUCHSCREENS\r\n  \t\twindow.MobileOrTablet= mobile.mobileOrTablet();\r\n  \t\tif (MobileOrTablet){\r\n  \t\t\t$('.fa').addClass('fa-2x');\r\n  \t\t}\r\n\r\n\r\n        //SET RECENT STREAMS\r\n      window.RecentStreams = [];\r\n      \tif(storageEnabled){\r\n      \t\t\tif (!(localStorage.RecentStreams)) localStorage.RecentStreams = '';\r\n      \t\t\tRecentStreams = localStorage.RecentStreams.split(\",\");   //contains recent streams that were watched\r\n      \t\t\tif (RecentStreams[0] === '') RecentStreams = [];\r\n      \t}\r\n      \telse RecentStreams = [];\r\n\r\n\r\n\r\n          //GET COOKIES OR URL PARAMS TO SET THE INITIAL STREAMS BEING WATCHED. GET USERNAME\r\n      window.UrlParams = window.parseURL();\r\n      cookies.CookiesEnabled = cookies.areCookiesEnabled();\r\n      window.Username = cookies.getCookie('username') || '';\r\n\r\n\r\n    //CROSS BROWSER SCROLL PANE CUSTOMISATION\r\n    \t$('.scroll-pane').jScrollPane({\r\n    \t\tshowArrows: true,\r\n    \t\tarrowScrollOnHover: true,\r\n    \t\t// horizontalGutter: 30,\r\n    \t\t// verticalGutter: 30\r\n    \t});\r\n      // // Add some content to #pane2\r\n      // var pane2api = $('#pane2').data('jsp');\r\n      // var originalContent = pane2api.getContentPane().html();\r\n      // pane2api.getContentPane().html(originalContent + originalContent + originalContent);\r\n      //\r\n      // // Reinitialise the #pane2 scrollpane\r\n      // pane2api.reinitialise();\r\n\r\n\r\n\r\n    \t//filter and settings windows won't close when you click the buttons\r\n    $(\".toggleableFilter\").click(function(e) {\r\n    \t\t e.stopPropagation();\r\n    });\r\n    $(\".toggleableSetting\").click(function(e) {\r\n    \t\te.stopPropagation();\r\n    });\r\n      //filter and settings windows won't close when you type input into the inputs\r\n    $('#game').keypress(function(e){\r\n    \te.stopPropagation();\r\n    })\r\n    $('#streamer').keypress(function(e){\r\n    \te.stopPropagation();\r\n    })\r\n    $('#Username').keypress(function(e){\r\n    \te.stopPropagation();\r\n    })\r\n\r\n\r\n}\r\n\r\nmodule.exports= init;\r\n\n},{}],6:[function(require,module,exports){\n//SETUP KEYBOARD KEYPRESS LISTENERS\r\nfunction setupKeyListeners(){\r\n\r\n  $(\"html\").keypress(function( event ) {\r\n    var player = $(\"#twitch_embed_player_\"+SelectedStream)[0];\r\n\r\n\r\n      //WHEN IN SINGLE STREAM MODE THIS WILL SWITCH TO THE STREAM NUMBER PRESSED\r\n    switch(event.which){\r\n\r\n      case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56:\r\n          for (var i=0;i<4;i++){\r\n            if ( event.which == i+49 ) {\r\n               event.preventDefault();\r\n               window.ChangingSingleStreams=true;\r\n                if(window.NumStreams==1 && i!==window.SelectedStream){\r\n                  window.SingleStreamSelectorOffset=i;\r\n                  window.renderStreams();\r\n                    for (var c=0;c<4;c++){\r\n                    $('#chat'+c).hide();\r\n                    }\r\n                    window.ActiveChat=i;\r\n                    $('#chat'+window.ActiveChat).show();\r\n                  window.SingleStreamSelectorOffset=0;\r\n                  window.SelectedStream=i;\r\n                }\r\n            else window.changeSelectedStream(i);\r\n            break;\r\n          }\r\n            //SELECTS THE CHAT\r\n          if ( event.which == i+53 ) {\r\n             event.preventDefault();\r\n             window.ActiveChat=i;\r\n             for (c=0;c<4;c++){\r\n             $('#chat'+c).hide();\r\n             }\r\n             $('#chat'+window.ActiveChat).show();\r\n             break;\r\n           }\r\n          }\r\n        break;\r\n\r\n      //PAUSING, MUTING, UNMUTING\r\n      case 32:\r\n        event.preventDefault();\r\n        if (player.isPaused()) player.playVideo();\r\n        else player.pauseVideo();\r\n        break;\r\n      case 116:\r\n        player.mute();\r\n        break;\r\n      case 117:\r\n        player.unmute();\r\n        break;\r\n\r\n\r\n\r\n        //HIDING LIST\r\n      case 97:\r\n          window.$colList.toggle();\r\n             var $collapseList = $(\".collapseList\");\r\n             var lw = $colList.width();\r\n          if (window.ListIsHidden){window.ListIsHidden=false; $collapseList.css({top: 0, left: lw, position:'absolute', 'z-index': 2});}\r\n          else {window.ListIsHidden=true; $collapseList.css({top: 0, left: 0, position:'absolute', 'z-index': 2});}\r\n          // ResetOuterColumnDrag();\r\n          // // renderStreams();\r\n          // // ResetAllDragColumns();\r\n          break;\r\n\r\n        //HIDING CHAT\r\n      case 100:\r\n          window.$chat.toggle();\r\n          cResizer.ResetStreamColumnDrag();\r\n          // ResetOuterColumnDrag();\r\n          // // renderStreams();\r\n          // // ResetAllDragColumns();\r\n          break;\r\n\r\n        //SET STREAM QUALITY\r\n      case 108:\r\n        player.setQuality('Low');\r\n        break;\r\n      case 109:\r\n        player.setQuality('Medium');\r\n        break;\r\n      case 104:\r\n        player.setQuality('High');\r\n        break;\r\n      case 115:\r\n        player.setQuality('Source');\r\n        break;\r\n\r\n\r\n        //CHANGE NUMBER OF DISPLAYED STREAMS\r\n      case 122:   //z\r\n          if (window.NumStreams!==1){\r\n            if (window.SelectedStream!==0){\r\n              window.SingleStreamSelectorOffset = window.SelectedStream;\r\n            }\r\n            window.changeSelectedStream(SelectedStream);\r\n          window.ActiveChat = window.SelectedStream;\r\n            for (c=0;c<window.NumStreams;c++){\r\n            $('#chat'+c).hide();\r\n            }\r\n            $('#chat'+window.ActiveChat).show();\r\n\r\n          window.NumStreams=1;\r\n          window.renderStreams();\r\n          window.SingleStreamSelectorOffset=0;\r\n            }\r\n          break;\r\n\r\n      case 120:   //x\r\n          if(window.NumStreams==2){\r\n            if (window.DivideStreams=='horizontal') window.DivideStreams='vertical';\r\n            else window.DivideStreams='horizontal';\r\n          } else NumStreams=2;\r\n          window.renderStreams();\r\n          break;\r\n\r\n      case 99:   //c\r\n          // if (NumStreams!==4){\r\n          window.NumStreams=4;\r\n          window.renderStreams();\r\n          //  }\r\n          break;\r\n\r\n      };\r\n });\r\n}\r\n\r\nmodule.exports= setupKeyListeners;\r\n\n},{}],7:[function(require,module,exports){\nclass listManager{\r\n\r\n\r\n  //ADD MORE STUFF TO THE LIST WHEN THE SCROLLBAR REACHES THE BOTTOM\r\n  constructor(){\r\n\r\n    this.CListRefreshTimeMinutes\r\n    this.CNumListedStreamsStart = 0;\r\n    this.CNumListedStreamsEnd = 25;\r\n    this.CListRefreshTimeMinutes = cookies.getCookie(\"ListRefreshTimeMinutes\") || 60;\r\n\r\n    this.NumListedStreamsStart = 0;\r\n    this.NumListedStreamsEnd = 25;\r\n\r\n    this.DefaultRequestURL= 'https://api.twitch.tv/kraken/streams?';\t\t\t//STAYS THE SAME\r\n    this.RequestURL = 'https://api.twitch.tv/kraken/streams?';\t\t\t\t\t\t//CHANGES\r\n\r\n    this.FilteringListStaticCounter = 0;\r\n    this.ListStaticCounter=0;            //used when accessing the list renderer multiple times for when multiple concurrent ajax requests resolve\r\n\r\n    this.FavIndexL=this.CNumListedStreamsStart;\t\t//THESE ARE STATIC VARIABLES TO HOLD THE LIST NUMBER DURING ADDING OF FAVORITE STREAMS (SINCE SOME MIGHT BE OFFLINE WE NEED A SEPARATE LIST TRACKER)\r\n    this.FavIndexH=this.CNumListedStreamsEnd;\r\n    this.RecIndexL=this.CNumListedStreamsStart;\r\n    this.RecIndexH=this.CNumListedStreamsEnd;\r\n\r\n    this.ListAddCooldown=false;\r\n\r\n    this.NoListLockout = true;\r\n\r\n    this.List={};\r\n  }\r\n\r\n\r\n    // SETUP OF THE STREAM LIST VIEW WITH CLICK LISTENERS\r\n  populateList (reqURL, refreshingList){\r\n    //PREVENTS OTHER LIST EVENTS FROM BEING FIRED (SO THAT MULTIPLE SETS OF AJAX REQUESTS DON'T COINCIDE)\r\n    this.NoListLockout=false;\r\n\r\n    if(refreshingList) this.flushNumListedStreams();\r\n\r\n      var that= this;\r\n    $.getJSON(reqURL+'offset='+this.NumListedStreamsStart+'&limit='+this.NumListedStreamsEnd+'&callback=?', function(result){   //the ? for the callback name signals jQuery that it is a JSONP request and not a JSON request. jQuery registers and calls the callback function automatically.\r\n        //response data are now in the result variable\r\n    //  var jsonString = JSON.stringify(result);\r\n    //  var result = JSON.parse(result);\r\n     that.listLoader(result, refreshingList, refreshingList, that.NumListedStreamsEnd);\r\n    });\r\n  }\r\n\r\n    //LOAD THE STREAMS LIST ON THE LEFT\r\n    //YOU'RE EITHER REFRESHING THE LIST OR ADDING TO THE LIST\r\n\r\n    //YOU PASS IN A DIFFERENT LIST EVERY TIME, SO YOU ONLY NEED TO KEEP A STATIC COUNTER TO KEEP THE INDEX POSITION WHILE FILTERING\r\n    //WHEN USING LISTLOADER ON ITS OWN, YOU NEED TO USE flushNumListedStreams() TO CLEAR THE VALUE OF this.NumListedStreamsStart...\r\n    //NOTE listLoader HAS NO TOLERANCE FOR EMPTY LIST ENTRIES (ABORTS FUNCTION ON SIGHT), AND REQUIRES YOU TO KEEP THE\r\n    //START AND FINISH LIST PUSH POSITIONS YOURSELF IF YOU ARE MAKING MULTIPLE CALLS TO IT...\r\n    //changingCat IS FOR WHEN YOU CLICK A NEW CATEGORY BUTTON, IT WILL RUN ONCE WITHOUT FILTERING TO POPULATE List, AND THEN ONCE WITH\r\n    //TO RENDER THE LIST PROPERLY FILTERED\r\n  listLoader(list, refreshingList,changingCat, streamIteratorEnd) {\r\n\r\n        var filtering=false;\r\n        var tempList = list;\r\n\r\n          //CHECK THE FILTER DOM ELEMENTS TO SEE IF FILTERING IS ON; IF IT IS THEN DO THE FILTERING AND SET filtering TO TRUE\r\n          //SO THE BEHAVIOR OF THE LISTLOADING CAN BE MODIFIED\r\n\r\n\r\n              var temp = $filterList.find('.activeFilter');\r\n              var _this = this;\r\n          temp.each(function(){\r\n            var id = $(this).next('span').find('input').attr('id');\r\n            if (id==='streamer') {\r\n              tempList = _this.filterByStreamer(tempList);\r\n              filtering=true;\r\n            }\r\n            if (id==='game') {\r\n              tempList = _this.filterByGame(tempList);\r\n              filtering=true;\r\n            }\r\n          });\r\n\r\n\r\n        //MODIFY LISTLOADER BEHAVIOR IF REFRESHING OR FILTERING. THESE VARIABLES AFFECT HOW THE PASSED IN list IS ADDED TO\r\n        //THE $list DOM ELEMENT\r\n    if (refreshingList){\r\n      $list.html('');\r\n      this.FilteringListStaticCounter=0;\r\n      if(filtering==false || changingCat){\r\n        this.List = list;\r\n        this.ListStaticCounter=0;\r\n      }\r\n    } else this.List.streams = this.List.streams.concat(list.streams);\r\n\r\n    if (filtering) list = tempList;  //else just use list\r\n\r\n\r\n\r\n        var c=0;\r\n     for (var i=this.NumListedStreamsStart;i<streamIteratorEnd;i++){\r\n\r\n       if (list.streams[i-this.NumListedStreamsStart]==null || list.streams[i-this.NumListedStreamsStart]=='' ||\r\n           list.streams[i-this.NumListedStreamsStart]=={}) break;\r\n\r\n       if(filtering==false) {c=this.ListStaticCounter;}\r\n       else {c=this.FilteringListStaticCounter}\r\n\r\n       if (CHideGame) var hg = 'display:none;';\r\n       else var hg = '';\r\n       if (CHideDesc) var hd = 'display:none;';\r\n       else var hd = '';\r\n          $list.append('<li style=\"position: relative; top:0; width: 100% !important;\" class=\"Pic'+c+' listHoverClass\">'+\r\n                               '<img style=\"width:100%;\" class=\"streamPic\" src=\"'+list.streams[i-this.NumListedStreamsStart].preview.medium+'\">'+\r\n                                '<div class=\"listStreamName\" style=\"width: 100%; height:100%;\">'+\r\n                                  '<div style=\"height: auto;\" class=\"strokeme wordwrap\"><b>'+list.streams[i-this.NumListedStreamsStart].channel.name+'</b> - <span style=\"font-size: 75%; float: right:\">'+list.streams[i-this.NumListedStreamsStart].viewers+'</span></div>'+\r\n                                  '<div style=\"height: auto; font-size: 85%; '+hg+'\" id=\"gameName\" class=\"listHidden strokeme wordwrap\"><i>'+list.streams[i-this.NumListedStreamsStart].game+'</i></div>'+\r\n                                  '<div style=\"height: auto; position:absolute; bottom:0; '+hd+'\" id=\"gameStatus\" class=\"listHidden strokeme wordwrap\"><span style=\"font-size: 85%;\">'+list.streams[i-this.NumListedStreamsStart].channel.status+'</span></div>'+\r\n                               '</div>'+\r\n                        '</li>'\r\n                      );\r\n\r\n             $('.listHoverClass').hover(\r\n               function(){$(this).find('.listHidden').show();},\r\n               function(){if(CHideGame) $(this).find('#gameName').hide();\r\n                          if(CHideDesc) $(this).find('#gameStatus').hide();\r\n               }\r\n             );\r\n          $('.listStreamName').css({bottom: 0, position:'absolute', width: '100%'})\r\n\r\n          if(window.FirstTimeRenderingStreams){\r\n            window.renderStreams();\r\n          }\r\n              //ADD THE LISTENERS TO RENDER THE STREAMS\r\n          $('.Pic'+c).click(loadNewStream(list.streams[i-this.NumListedStreamsStart].channel.name));  //RENDERS ALL THE STREAMS\r\n\r\n          if(filtering==false) this.ListStaticCounter++;\r\n          else this.FilteringListStaticCounter++;\r\n\r\n          this.NoListLockout=true;   //RELINQUISH LOCK\r\n      };\r\n    };\r\n\r\n\r\n  //RESETS THE STREAM COUNTER FOR THE LIST TO BEGIN ANEW\r\n\tflushNumListedStreams(){\r\n\t  this.NumListedStreamsEnd= this.CNumListedStreamsEnd;\r\n\t\tthis.NumListedStreamsStart= this.CNumListedStreamsStart;\r\n\t}\r\n\r\n\r\n\r\n\r\n  //FILTERING\r\n\tfilterByStreamer(streams){\r\n\t  var newList = {streams:[]};\r\n\t  var streamer = $('#streamer').val();\r\n\r\n\t  for (var i=0;i<streams.streams.length;i++){\r\n\t\t\tvar regexp = new RegExp(streamer, \"i\");\r\n\t    if((streams.streams[i].channel.name).search(regexp) > -1){\r\n\t      newList.streams.push(streams.streams[i]);\r\n\t    }\r\n\t  }\r\n\t\tconsole.log('newList');\r\n\t\tconsole.log(newList);\r\n\t  return newList;\r\n\t}\r\n\r\n\r\n\tfilterByGame(streams){\r\n\t\tconsole.log(\"streams\");\r\n\t\tconsole.log(streams);\r\n\t  var newList = {'streams':[]};\r\n\t  var game = $('#game').val();\r\n\t\tvar regexp = new RegExp(game, \"i\");\r\n\r\n\t  for (var i=0;i<streams.streams.length;i++){\r\n\t    if((streams.streams[i].game).search(regexp) > -1){\r\n\t      newList.streams.push(streams.streams[i]);\r\n\t    }\r\n\t  }\r\n\t  return newList;\r\n\t}\r\n\r\n\r\n\r\n\r\n  controlListScroll(){\r\n\r\n              var _this= this;\r\n      $(\".colList ul\").scroll(function() {\r\n        if($(document).scrollTop() == 0 && _this.NumListedStreamsEnd<251 && _this.ListAddCooldown==false) {\r\n          if ($('#topStreams').hasClass('activeButton')) {\r\n            _this.NumListedStreamsEnd+=25;\r\n            _this.NumListedStreamsStart+=25;\r\n            _this.addToTopStreams(false);\r\n          }\r\n          if ($('#favStreams').hasClass('activeButton')){\r\n            window.addToFavStreams('',false);\r\n          }\r\n          if ($('#recStreams').hasClass('activeButton')) {\r\n            _this.NumListedStreamsEnd+=25;\r\n            _this.NumListedStreamsStart+=25;\r\n            _this.addToRecStreams(false);\r\n          }\r\n\r\n\r\n          _this.ListAddCooldown=true;\r\n          _this.addListTimer=setInterval(addListReset, 1500);\r\n        };\r\n      });\r\n\r\n          //REFRESH THE LIST EVERY MINUTE\r\n          //TODO BROKEN, NEEDS TO BE CUSTOMIZED TO THE SELECTED LISTBAR ITEM\r\n    _this.refreshListInterval=setInterval(_this.populateList(_this.RequestURL,true), _this.CListRefreshTimeMinutes*60000);\r\n\r\n    function addListReset(){\r\n      _this.ListAddCooldown=false;\r\n      clearInterval(_this.addListTimer);\r\n    }\r\n  }\r\n\r\n\r\n  addToRecStreams(refreshing){\r\n\r\n    this.NoListLockout=false;\r\n        if(refreshing) {\r\n          this.flushNumListedStreams();\r\n          this.NumListedStreamsEnd=0;\r\n          this.RecIndexL=this.CNumListedStreamsStart;\r\n          this.RecIndexH=this.CNumListedStreamsEnd;\r\n        }\r\n\r\n\r\n      var length = 0;\r\n      var lc = 0;\r\n      var _this=this;\r\n      loop(_this);\r\n\r\n      function loop(_this){\r\n\r\n\r\n        var qString = RecentStreams.slice(_this.RecIndexL,_this.RecIndexH).toString();\r\n        console.log('qString');\r\n        console.log(qString);\r\n\r\n              if (lc == 4 || qString=='' || qString==null) {_this.NoListLockout=true; return;}\r\n              lc++;\r\n\r\n        $.getJSON('https://api.twitch.tv/kraken/streams?channel='+qString+'&callback=?')\r\n        .done(function(recent){\r\n          // Favorites.push(favorites);\t\t//SET THE GLOBAL FAVORITES TO THE RESULT\r\n          console.log('addToRecStreams recent:');\r\n          console.log(recent);\r\n            _this.NumListedStreamsEnd+=recent.streams.length;\r\n            _this.listLoader(recent,refreshing,false,_this.NumListedStreamsEnd);\r\n            _this.NumListedStreamsStart+=recent.streams.length;\r\n            _this.RecIndexL+=_this.CNumListedStreamsEnd;\r\n            _this.RecIndexH+=_this.CNumListedStreamsEnd;\r\n            refreshing = false;\r\n            length += recent.streams.length;\r\n            if (length < 1)  loop(_this);\r\n            else {lc=4; _this.NoListLockout=true;}\r\n        })\r\n      }\r\n\r\n  }\r\n\r\n  addToTopStreams(refreshing){\r\n    if(this.NoListLockout){\r\n      this.NoListLockout=false;\r\n        this.populateList(list.DefaultRequestURL, refreshing);\r\n      this.NoListLockout=true;\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\nmodule.exports= listManager;\r\n\n},{}],8:[function(require,module,exports){\nclass detectMobile{\r\n\r\n\t//check for on mobile\r\n\tmobile() {\r\n\t  var check = false;\r\n\t  (function(a){\r\n\t\t\tif(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))\r\n\t\t\t\tcheck = true\r\n\t\t })(navigator.userAgent||navigator.vendor||window.opera);\r\n\t  return check;\r\n\t}\r\n\t//check for mobile or tablet\r\n\tmobileOrTablet() {\r\n\t  var check = false;\r\n\t  (function(a){\r\n\t\t\t\tif(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4)))\r\n\t\t\t\t\tcheck = true\r\n\t\t\t})(navigator.userAgent||navigator.vendor||window.opera);\r\n\t  return check;\r\n\t}\r\n\r\n\r\n\r\n\t//check for mobile based on size\r\n\tdetectmobBySize() {\r\n\t   if(window.innerWidth <= 800 && window.innerHeight <= 600) {\r\n\t     return true;\r\n\t   } else {\r\n\t     return false;\r\n\t   }\r\n\t}\r\n\t//add |android|ipad|playbook|silk to include these as well (not in there by default)\r\n\t//another way to detect mobile (not super reliable)\r\n\tdetectmobByNavigator() {\r\n\t if( navigator.userAgent.match(/Android/i)\r\n\t || navigator.userAgent.match(/webOS/i)\r\n\t || navigator.userAgent.match(/iPhone/i)\r\n\t || navigator.userAgent.match(/iPad/i)\r\n\t || navigator.userAgent.match(/iPod/i)\r\n\t || navigator.userAgent.match(/BlackBerry/i)\r\n\t || navigator.userAgent.match(/Windows Phone/i)\r\n\t ){\r\n\t    return true;\r\n\t  }\r\n\t else {\r\n\t    return false;\r\n\t  }\r\n\t}\r\n\r\n}\r\n\r\nmodule.exports= detectMobile;\r\n\n},{}],9:[function(require,module,exports){\nfunction ParseURL () {\r\n  // This function is anonymous, is executed immediately and\r\n  // the return value is assigned to QueryString\r\n  var query_string = [];\r\n  var query = window.location.href;\r\n  var pre = query.split(/index\\.html#?\\/?/);\r\n  URL=pre[0]+'/index.html#';\r\n    if(pre[1]) var vars = pre[1].split(\"/\");\r\n    else var vars='';\r\n  for (var i=0;i<vars.length;i++) {\r\n      var temp = decodeURIComponent(vars[i]);\r\n      if (temp) query_string[i] = temp;   //doesn't terminate at empty entries, ie: / / \r\n    }\r\n    return query_string;\r\n}\r\n\r\nmodule.exports= ParseURL;\r\n\n},{}],10:[function(require,module,exports){\n   //RENDERS THE STREAM COLUMN\r\nfunction renderStreams(){\r\n    // $collapseList.parent().css({position: 'relative'});   //NEED THIS FOR ABSOLUTE LINK POSITIONING. IFRAME HAS THE SAME PARENT\r\n    // $streams.css({position: 'relative'});\r\n\r\n    showStreamsLoadScreen();  //erases streams html and shows a loading screen\r\n    var html = '';\r\n\r\n\r\n  switch (NumStreams){\r\n    case 1:\r\n\t\t\t\tif (window.Flash_Installed  && !window.isMobile) html = html+'<div id=\"twitch_embed_player_0\"></div>';\r\n\t\t\t\telse html = html+'<span class=\"stream0\" style=\"width: 100%; height:100%;\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[0]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe><param name=\"menu\" value=\"false\" /></span>';\r\n        break;\r\n    case 2:\r\n       if (DivideStreams=='horizontal'){\r\n\t\t\t\tif (window.Flash_Installed  && !window.isMobile){\r\n\t\t\t\t\thtml = html+'<div style=\"height: 100%; width: 100%;\"><table style=\"height: 100%; width: 100%;\" id=\"streamTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td><div id=\"twitch_embed_player_0\"></div></td>';\r\n\t        html = html+'<td><div id=\"twitch_embed_player_1\"></div></td></tr><tbody></table></div>';\r\n\t\t\t\t}\r\n        else{\r\n\t\t\t\t\thtml = html+'<div style=\"height: 100%; width: 100%;\"><table style=\"height: 100%; width: 100%;\" id=\"streamTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td class=\"stream0\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[0]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td>';\r\n\t\t\t\t\thtml = html+'<td class=\"stream1\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[1]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td></tr><tbody></table></div>';\r\n\t\t\t\t}\r\n       }\r\n       else if (DivideStreams=='vertical'){\r\n\t\t\t\t if (window.Flash_Installed  && !window.isMobile){\r\n         html = html+'<div style=\"height: 100%; width: 100%;\"><table style=\"height: 100%; width: 100%;\" id=\"streamTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td><div id=\"twitch_embed_player_0\"></div></td></tr>';\r\n         html = html+'<tr><td><div id=\"twitch_embed_player_1\"></div></td></tr></tbody></table></div>';\r\n       }\r\n\t\t\t else{\r\n\t\t\t\t html = html+'<div style=\"height: 100%; width: 100%;\"><table style=\"height: 100%; width: 100%;\" id=\"streamTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td class=\"stream0\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[0]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td></tr>';\r\n         html = html+'<tr><td class=\"stream1\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[1]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td></tr></tbody></table></div>';\r\n\t\t\t }\r\n\t\t }\r\n        break;\r\n    case 4:\r\n\t\t\tif(window.Flash_Installed  && !window.isMobile){\r\n        html = html+'<table  style=\"height: 100%; width: 100%;\" id=\"streamTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td><div id=\"twitch_embed_player_0\"></div></td>';\r\n        html = html+'<td><div id=\"twitch_embed_player_1\"></div></td></tr>';\r\n        html = html+'<tr><td><div id=\"twitch_embed_player_2\"></div></td>';\r\n        html = html+'<td><div id=\"twitch_embed_player_3\"></div></td></tr></tbody></table>';\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\thtml = html+'<table  style=\"height: 100%; width: 100%;\" id=\"streamTable\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\"><tbody><tr><td class=\"stream0\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[0]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td>';\r\n        html = html+'<td class=\"stream1\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[1]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td></tr>';\r\n        html = html+'<tr><td class=\"stream2\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[2]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td>';\r\n        html = html+'<td class=\"stream3\"><iframe src=\"http://www.twitch.tv/'+WatchingStreams[3]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe></td></tr></tbody></table>';\r\n\t\t\t}\r\n        break;\r\n  }\r\n\r\n  // for (var s=0;s<NumStreams;s++){\r\n  // html = html+'<iframe src=\"http://www.twitch.tv/'+name+'/embed\" frameborder=\"0\" scrolling=\"no\" ></iframe>';\r\n  //   }\r\n\r\n    html = html + '<a href=\"#\" class=\"collapse collapseList\" style=\"display: none;\"><i class=\"fa fa-2x fa-caret-left\"></i></a>'+\r\n                      '<a href=\"#\" class=\"collapse collapseChat\" style=\"display: none;\"><i class=\"fa fa-2x fa-caret-right\"></i></a>';\r\n\r\n        //HIDE STREAMS UNTIL THEY ARE ALL LOADED (NEED THEM IN THE DOM TO CREATE THE LISTENERS FOR WHEN THEY LOAD)\r\n    var temp = '<div style=\"height:100%;\" id=\"loadingDivShow\" class=\"divShowHandle\" style=\"visibility: hidden;\">'\r\n                 +html+\r\n                      '<div id=\"selectedStreamPopup\" style=\"position: absolute; top: 0; right: 50%; width: 8%; display: none; color: white; z-index:2;\">'+\r\n                        '<i class=\"fa fa-2x fa-television\" style=\"color: white;\"></i><span></span>'+\r\n                      '</div>'\r\n               '</div>';\r\n    $streams.html(temp);\r\n\r\n    if (window.isMobile) {\r\n      $('.fa-caret-right').addClass('fa-4x');\r\n      $('.fa-caret-left').addClass('fa-4x');\r\n    }\r\n\r\n    $selectedStreamPopup = $('#selectedStreamPopup');\r\n\r\n\r\n    //TWITCH PLAYER API\r\n  for (var i=0; i<NumStreams; i++){\r\n\r\n    var c=i+SingleStreamSelectorOffset;   //THIS IS TO RENDER STREAMS IN SINGLE STREAM MODE BASED ON NUMBER PRESSED\r\n\r\n\t\tif(window.Flash_Installed && !window.isMobile){\r\n\t\t    window['onPlayerEvent'+i] = function (data) {\r\n\t\t      data.forEach(function(event) {\r\n\t\t        if (event.event == \"playerInit\") {    //could also use videoPlaying or playerInit\r\n\r\n\t\t            $('#loadingDivShow').removeAttr('id');\r\n\t\t            $('.divShowHandle').attr(\"id\",\"loadingDivShowFinal\");\r\n\t\t            $('.loadingDivHide').hide();\r\n\r\n\t\t            if (ChangingSingleStreams) {\r\n\t\t              changeSelectedStream(c);\r\n\t\t              ChangingSingleStreams=false;\r\n\t\t            }\r\n\t\t            else changeSelectedStream(0);\r\n\t\t        }\r\n\t\t      });\r\n\t\t    }\r\n\r\n\t\t    swfobject.embedSWF(\"http://www-cdn.jtvnw.net/swflibs/TwitchPlayer.swf\", \"twitch_embed_player_\"+i, \"100%\", \"100%\", \"11\", null,\r\n\t\t      { \"eventsCallback\":\"onPlayerEvent\"+i,\r\n\t\t        \"embed\":1,\r\n\t\t        \"channel\": WatchingStreams[c],\r\n\t\t        \"auto_play\":\"true\"},\r\n\t\t      { \"allowScriptAccess\":\"always\",\r\n\t\t        \"allowFullScreen\":\"true\"});\r\n\r\n\t\t  }\r\n\r\n\t\telse{\r\n\t\t\t\t$('#loadingDivShow').removeAttr('id');\r\n\t\t\t\t$('.divShowHandle').attr(\"id\",\"loadingDivShowFinal\");\r\n\t\t\t\t$('.loadingDivHide').hide();\r\n\r\n\t\t\t\tif (ChangingSingleStreams) {\r\n\t\t\t\t\tchangeSelectedStream(c);\r\n\t\t\t\t\tChangingSingleStreams=false;\r\n\t\t\t\t}\r\n\t\t\t\telse changeSelectedStream(0);\r\n\r\n\t\t\t\t$('.stream'+i).html('<iframe src=\"http://www.twitch.tv/'+WatchingStreams[c]+'/embed\" frameborder=\"0\" scrolling=\"no\"'+\r\n                            +'height=\"100%\" width=\"100%\"></iframe><param name=\"menu\" value=\"false\" />');\r\n\t\t}\r\n\r\n}\r\n\r\n      //ALLOWS STREAM COLUMN RESIZE\r\n    cResizer.ResetStreamColumnDrag();\r\n    //SET UP LISTENERS FOR CHAT AND LIST TOGGLERS\r\n    SetupColumnCollapseListeners();\r\n    preventRedirect();\r\n\r\n        //DO ALL OF THIS ONLY IF THE PAGE IS LOADING (NOT IF ALREADY LOADED)\r\n  if(FirstTimeRenderingStreams){\r\n  FirstTimeRenderingStreams=false;\r\n\r\n      //FILL UP CHAT AND DISPLAY THE ACTIVE ONE\r\n    var html = '';\r\n     for(var c=0; c<4; c++){\r\n       html += '<div id=\"chat'+c+'\" style=\"display: none; height: 100vh; width: 100%;\"><iframe class=\"asdf\" style=\"z-index: 5;\"'+\r\n                'src=\"http://www.twitch.tv/'+WatchingStreams[c]+'/chat\" frameborder=\"0\" scrolling=\"no\" id=\"chat_embed\"'+\r\n                'height=\"100%\" width=\"100%\"></iframe></div>';\r\n  }\r\n    $chat.html('');\r\n    $chat.html(html);\r\n    $('#chat'+ActiveChat).show();\r\n\r\n\r\n      //CHANGE CHAT TO THE SelectedStream\r\n    // $chat.html('<iframe style=\"height: 100%;\" src=\"http://www.twitch.tv/''/chat?popout=\" frameborder=\"0\" scrolling=\"no\"></iframe>');\r\n}\r\n\r\n\r\n\r\n  function preventRedirect(){\r\n    for(var i=0;i<NumStreams;i++){\r\n      $('#twitch_embed_player_'+i).find(\"param[name='allowScriptAccess']\").attr('value','sameDomain');\r\n    }\r\n  }\r\n\r\n  function SetupColumnCollapseListeners(){\r\n       //CACHE THE DOM FOR TOGGLERS\r\n    var $collapseList = $(\".collapseList\");\r\n    var $collapseChat = $('.collapseChat');\r\n\r\n\r\n    if(window.isMobile){\r\n        toggleChat();\r\n        $collapseList.show();\r\n        $collapseChat.show();\r\n        window.$list.click(toggleList);\r\n    }\r\n    else{\r\n        $streams.hover(function(){\r\n          $collapseList.show();\r\n          $collapseChat.show();\r\n        });\r\n        $chat.hover(function(){\r\n          $collapseList.fadeOut( 200 );\r\n          $collapseChat.fadeOut( 200 );\r\n        });\r\n        $colList.hover(function(){\r\n          $collapseList.fadeOut( 200 );\r\n          $collapseChat.fadeOut( 200 );\r\n        });\r\n    }\r\n\r\n\r\n      if($colList.width() > 100) var lw = $colList.width();\r\n      else var lw = 500;\r\n    $collapseList.parent().css({position: 'relative'});    //need this to do absolute link positioning\r\n      if (ListIsHidden){$collapseList.css({top: 0, left: 0, position:'absolute', 'z-index': 2});}\r\n      else {$collapseList.css({top: 0, left: lw, position:'absolute', 'z-index': 2});}\r\n    $collapseList.click(toggleList);\r\n\r\n\r\n    $collapseChat.css({top: 0, right: 0, position:'absolute', 'z-index': 2});\r\n    $collapseChat.click(toggleChat);\r\n\r\n  }\r\n\r\n\r\n          function toggleList(){\r\n            $colList.toggle();\r\n              //NEED THIS CAUSE LIST IS FLOATING\r\n            if (ListIsHidden){ListIsHidden=false; $collapseList.css({top: 0, left: lw, position:'absolute', 'z-index': 2});}\r\n            else {ListIsHidden=true; $collapseList.css({top: 0, left: 0, position:'absolute', 'z-index': 2});}\r\n          }\r\n\r\n          function toggleChat(){\r\n            $chat.toggle();\r\n            cResizer.ResetStreamColumnDrag();\r\n          }\r\n\r\n\r\n};\r\n\r\nmodule.exports= renderStreams;\r\n\n},{}],11:[function(require,module,exports){\nfunction setStreamListButtonListeners(){\r\n\r\n  //TOP STREAMS\r\n    $('#topStreams').click(function(){\r\n\r\n      if (!($(this).hasClass('activeButton'))){\r\n        $('.activeButton').removeClass('activeButton');\r\n        $(this).addClass('activeButton');\r\n        list.addToTopStreams(true);\r\n      }\r\n    });\r\n\r\n\r\n  //RECENT STREAMS\r\n  $('#recStreams').click(function(){\r\n\r\n    if(list.NoListLockout){\r\n      if (!($(this).hasClass('activeButton'))){\r\n        $('.activeButton').removeClass('activeButton');\r\n        $(this).addClass('activeButton');\r\n            list.NoListLockout=false;\r\n\r\n          list.addToRecStreams(true);\r\n\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n\r\n\r\n  //FAVORITE STREAMS\r\n  //we only hit the Twitch API for a refresh of favorited streams every couple hours when the app is running, and only request ~25 images per request...\r\n  //cookies are set to control the API hits for the full list of favorites (which could be hundreds of entries) to every couple of hours when running, and every\r\n  //few days when not running. It then sorts the full list by viewers and saves into Favorites[]. We then only use subsets of this array to populate the list...\r\n  //the reson that the entire Favorites array isnt used to populate the list is to reduce API requests for images...\r\n  //imagine making requests for hundreds of medium sized images every few minutes per client...\r\n  $('#favStreams').click(function(){\r\n\r\n    if (!($(this).hasClass('activeButton'))){\r\n        //CHECK IF USERNAME IS SET\r\n      if(window.Username!='' && window.Username!=null){\r\n            console.log('Using as '+window.Username);\r\n        } else {\r\n            var user = prompt(\"Enter your Twitch username to use the favorites tab:\", \"\");\r\n            if (user != \"\" && user != null) {\r\n                cookies.setCookie(\"username\", user, 365);\r\n                window.Username = user;\r\n            } else {\r\n                    return\r\n              }\r\n          }\r\n\r\n\r\n      if(list.NoListLockout){\r\n        list.NoListLockout=false;\r\n            $('.activeButton').removeClass('activeButton');\r\n            $(this).addClass('activeButton');\r\n\r\n            //HAVE TO DO TWO AJAX REQUESTS, BECAUSE THE \"FOLLOWS\" RESPONSE FROM THE TWITCH API DOESENT GIVE YOU THE PROPER\r\n            //DATA NEEDED TO POPULATE THE STREAMS LIST\r\n\r\n            //IF THE SESSION COOKIE FOR THE FavoritesString IS EXPIRED, HIT THE API WITH THE FavoritesString TO REFRESH VIEWERCOUNT,\r\n            //THEN SORT BY VIEWER COUNT AND RESET FavoritesString AND THE LOCAL STORAGE COPY TO REFLECT THAT SORTING. THEN HIT THE\r\n            //API FOR THE STREAM DATA ON THE TOP 25 (if you havent changed the number) STREAMS FROM THAT FavoritesString.\r\n            if(storageEnabled && cookies.CookiesEnabled) {\r\n\r\n              if(typeof (localStorage.FavoritesString) == 'undefined' || localStorage.FavoritesString == null || localStorage.FavoritesString=='' ||\r\n                  localStorage.SortedFavoritesString == null || typeof (localStorage.SortedFavoritesString) == 'undefined'|| localStorage.SortedFavoritesString=='' ||\r\n                  cookies.getCookie('FRefreshSession') == null || cookies.getCookie('FRefreshSession')==''){\r\n\r\n                    console.log('refreshed Favorites');\r\n                    cookies.setCookie(\"FRefreshSession\", true, 0.1);\r\n\r\n                    window.deferred1 = $.Deferred();\r\n                    window.deferred2 = $.Deferred();\r\n                      //SETS FavoritesString. DOESN'T UPDATE THE LOCAL STORAGE IF THE FAVORITES LIST IS NOT EXPIRED\r\n                    window.refreshFavoritesString(false);      //refresh the list if it's gone expired (3 days default) during the session\r\n\r\n                      //USES FavoritesString TO SORT BY VIEWERS, THEN SETS SortedFavoritesString BASED OFF THAT ORDERING.\r\n                      //DOES NOTHING IF THE CURRENT SORTED LIST ISNT EXPIRED\r\n                    window.deferred1.done(function(value){window.getFavStreamsAndSort(value)});     //hit the API for all favorited streams, then sort them and set the string to reflect that\r\n                    window.deferred2.done(function(value){window.addToFavStreams(value,true)});\r\n              } else {\r\n                console.log(cookies.getCookie('FRefreshSession'));\r\n                console.log('didnt refresh anything');\r\n                window.FavoritesString = localStorage.FavoritesString;\r\n                window.SortedFavoritesString = localStorage.SortedFavoritesString;\r\n                window.addToFavStreams('',true);     //use a sub-array of FavoritesString  (25 entries if you havent modified the global for list refresh increment) to populate the list.\r\n              }\r\n\r\n          }\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n\r\n//FILTER STREAMS\r\n//GIVES THE FILTER FIELD CHECKED AN activeFilter CLASS SO THAT LISTLOADER CAN USE THIS CLASS TO CHOOSE WHAT FILTERING FUNCTIONS TO RUN\r\n  $filterList.find('.toggleableFilter i, .toggleableFilter span, .toggleableFilter span input').click(function(event){\r\n\r\n        if ($(this).prop(\"tagName\") === 'INPUT') {\r\n          event.stopPropagation();\r\n          return;\r\n        }\r\n\r\n          //CLICKED RED CHECKMARK\r\n        if ($(this).hasClass('activeFilter')) {\r\n          $(this).removeClass('activeFilter');\r\n          $(this).next('span').find('input').off('input');\r\n          list.flushNumListedStreams();\r\n          list.listLoader(List, true, false, list.NumListedStreamsEnd);\r\n        }\r\n          //DIDNT CLICK RED CHECKMARK\r\n        else {\r\n              //CLICKED A WHITE CHECKMARK\r\n            if ($(this).hasClass('i')) {\r\n              $(this).addClass('activeFilter');\r\n              list.flushNumListedStreams();\r\n              list.listLoader(list.List, true, false, list.NumListedStreamsEnd);\r\n              alert('white check!');\r\n            }\r\n              //DIDNT CLICK A CHECKMARK\r\n            else {\r\n                  //DIDNT CLICK CHECKMARK, CHECKMARK IS RED\r\n              if ($(this).parent().find('i').hasClass('activeFilter'))\r\n                  { $(this).parent().find('i').removeClass('activeFilter');\r\n                    $(this).next('span').find('input').off('input');\r\n                    list.flushNumListedStreams();\r\n                    list.listLoader(list.List, true, false, list.NumListedStreamsEnd);\r\n                  }\r\n                    //DIDNT CLICK A CHECKMARK, CHECKMARK IS WHITE\r\n              else {\r\n                $(this).parent().find('i').addClass('activeFilter');\r\n                list.flushNumListedStreams();\r\n                list.listLoader(list.List, true, false, list.NumListedStreamsEnd);\r\n              }\r\n            }\r\n\r\n\r\n        }\r\n\r\n  });\r\n\r\n  $('input').on('input', function() {\r\n    if($(this).val()==='') $(this).closest('li').find('i').removeClass('activeFilter');\r\n\r\n    else if (!($(this).closest('li').find('i').hasClass('activeFilter')) && $(this).val()!=='') {\r\n      // $('.toggleableFilter .activeFilter').removeClass('activeFilter');\r\n      $(this).closest('li').find('i').addClass('activeFilter');\r\n    }\r\n    list.flushNumListedStreams();\r\n    list.listLoader(list.List, true, false, list.NumListedStreamsEnd);\r\n\r\n  });\r\n\r\n\r\n//LIST SIZE AND CHAT SIZE SETTING LISTENERS\r\n    $('#listSize').change(function(){\r\n      $colList.css(\"width\", $(this).val()+'%');\r\n    });\r\n\r\n    $('#chatSize').change(function(){\r\n      $chat.css(\"width\", $(this).val()+'%');\r\n      $streams.css(\"width\", 100-$(this).val()+'%');\r\n      cResizer.ResetOuterColumnDrag();\r\n      cResizer.ResetStreamColumnDrag();\r\n    });\r\n\r\n//REFRESH PERIOD SETTING LISTENER\r\n    $('#refreshPeriod').change(function(){\r\n      if ($(this).val() === 'NEVER') CListRefreshTimeMinutes = 9999999999;  //USED IN IN  listManager.js TO UPDATE STREAMS LIST EVERY SO OFTEN\r\n      else CListRefreshTimeMinutes = $(this).val();\r\n    });\r\n\r\n}\r\n\r\nmodule.exports= setStreamListButtonListeners;\r\n\n},{}],12:[function(require,module,exports){\nfunction streamUtils (){\r\n\r\n\r\n  window.fillStreamsFromURL = function (){\r\n\t  try{\r\n\t    if (UrlParams){\r\n\t      var p=0;\r\n\t      UrlParams.forEach(function(param){\r\n\t        console.log(param+ ', ');\r\n\t        WatchingStreams[p]=param;\r\n\t        addToRecentStreams();\r\n\t        if(p>3) throw BreakException;\r\n\t        ++p;\r\n\t      })\r\n\t    }\r\n\t  }catch(e) {\r\n\t      alert('Maximum of 4 streams!');\r\n\t  }finally{\r\n\t    var length = WatchingStreams.length || 0;\r\n\t    NumStreams=(length==0?1 :length==1?1 :length==2?2 :length==3?4: length==4?4 :4);\r\n\t   }\r\n\r\n\t  window.parseURL();\r\n\t  // alert('URL params used to populate streams. URL: ' + URL);\r\n\t}\r\n\r\n\r\n\r\n\twindow.loadNewStream= function (name){\r\n\t    return function(){WatchingStreams[SelectedStream]=name;\r\n\t                      addToRecentStreams();\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar ss = SelectedStream;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (NumStreams==1) ss = 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t$('#chat'+SelectedStream).html('<iframe style=\"z-index: 5; float: left;\" src=\"http://www.twitch.tv/'+name+'/chat\" frameborder=\"0\" scrolling=\"no\" id=\"chat_embed\" height=\"100%\" width=\"100%\"></iframe>');\r\n\t\t                      if (Flash_Installed) $(\"#twitch_embed_player_\"+ss)[0].loadStream(name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\telse $('.stream'+ss).html('<iframe src=\"http://www.twitch.tv/'+WatchingStreams[c]+'/embed\" frameborder=\"0\" scrolling=\"no\" height=\"100%\" width=\"100%\"></iframe>')\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar newURL = URL;\r\n\t\t\t\t\t\t\t\t\t\t\tWatchingStreams.forEach(function(stream){\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (stream != 'undefined')\r\n\t\t\t\t\t\t\t\t\t\t\t\t newURL += '/' + stream;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\twindow.history.replaceState(null, null, newURL);\r\n\t                     };\r\n\t}\r\n\r\n\r\n  //ADDS THE CURRENTLY WATCHING STREAMS TO THE RECENT STREAMS LIST, IF THEY HAVEN'T BEEN ALREADY\r\n\twindow.addToRecentStreams= function(){\r\n\t  WatchingStreams.forEach(function(stream){\r\n\t    if(stream!=null && stream!=''){\r\n\t      if ($.inArray(stream, RecentStreams)!==-1){}    //-1 IF stream IS NOT IN THE ARRAY RecentStreams\r\n\t      else {RecentStreams.push(stream);}\r\n\t      }\r\n\t    });\r\n\t}\r\n\r\n\r\n\r\n\r\n\t//CHANGES THE SELECTED STREAM AND MAKES THE POPUP COME UP\r\n\twindow.changeSelectedStream= function(i){\r\n\t  SelectedStream=i;\r\n\t  var temp = i+1;\r\n\t  var delay = true;\r\n\t  $selectedStreamPopup.find('span').html('<span style=\"font-size: 200%;\"> '+temp+'</span>');\r\n\t  $selectedStreamPopup.show();\r\n\t  var fadeout=setInterval(function(){$selectedStreamPopup.fadeOut(300); clearInterval(fadeout);}, 1000);\r\n\t}\r\n\r\n\t//LOADING SCREEN\r\n\twindow.showStreamsLoadScreen= function(){\r\n\t  $streams.html('<div class=\"fa loadingDivHide\"><i class=\"loadingDivHide fa fa-3x fa-cog fa-spin\"></i><div class=\"fa-cog-text\" style=\"color:white;\">Working on it...</div></div>');\r\n\t}\r\n\r\n\r\n\r\n  window.getFavStreamsAndSort= function(value){\r\n\t\tif(value!='' && value!=null && typeof(value)!='undefined') FavoritesString = value;\r\n\r\n\t\t\tconsole.log('refreshed SessionFavoritesString');\r\n\t\t$.getJSON('https://api.twitch.tv/kraken/streams?limit=100&channel='+FavoritesString+'&callback=?')\r\n\t\t.done(function(arr2){\r\n\t\t\t\tconsole.log('arr2');\r\n\t\t\t\tconsole.log(arr2);\r\n\r\n\t\t\t\t//GET RID OF ALL INVALID RESPONSES - Favorites is the new \"cleaned\" array (no empty objects in it)\r\n\t\t\t\t\tvar j=0;\r\n\r\n\t\t\t\tarr2.streams.forEach(function(stream){\r\n\t\t\t\t\tif(stream!=null && stream!='' && stream!={}){\r\n\t\t\t\t\t\tFavorites[j]=stream;\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//BUBBLE SORT WITHOUT MOVING ENTIRE OBJECTS (arr3[] HOLDS A LIST OF REFERENCES TO THE OBJECT'S POSITIONS IN Favorites)\r\n\t\t\t\tvar length=Favorites.length;\r\n\t\t\t\tconsole.log('favorites.length');\r\n\t\t\t\tconsole.log(Favorites.length);\r\n\r\n\t\t\t\tvar arr3=[];\r\n\t\t\t\tfor(var k=0;k<length;k++) arr3[k]=k;\r\n\r\n\t\t\t\tfor (var l=0;l<length-1;l++){\r\n\t\t\t\t\tfor (var m=0;m<length-1;m++){\r\n\t\t\t\t\t\tvar temp01=arr3[m];\r\n\t\t\t\t\t\tvar temp02=arr3[m+1];\r\n\t\t\t\t\t\tif (Favorites[temp01].viewers<Favorites[temp02].viewers){\r\n\t\t\t\t\t\t\tvar temp2 = arr3[m];\r\n\t\t\t\t\t\t\tarr3[m] = arr3[m+1];\r\n\t\t\t\t\t\t\tarr3[m+1] = temp2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log('sorted favorites:');\r\n\t\t\t\tconsole.log(Favorites);\r\n\r\n\r\n\t\t\t\t\t//DO LISTLOADER ON VIEWERS-SORTED LIST OF FAVORITES\r\n\t\t\t\t// \trefreshingList=true;\r\n\t\t\t\t// for(var n=0;n<length;n++){\r\n\t\t\t\t// \t\tif(refreshingList) flushNumListedStreams();\r\n\t\t\t\t// \t\tlistLoader({streams:[Favorites[n]]},refreshingList,true,1);\r\n\t\t\t\t// \t\trefreshingList=false;\r\n\t\t\t\t// }\r\n\t\t\t\t// NoListLockout=true;\r\n\r\n\r\n\t\t\t\t//TURN THE Favorites ARRAY INTO A FavoritesString FORMAT\r\n\t\t\t\tfor (var a=0;a<Favorites.length;a++)\r\n\t\t\t\t\tFavorites[a] = Favorites[a].channel.name;\r\n\r\n\t\t\t\tlocalStorage.SortedFavoritesString = Favorites.toString();\t//NOTE SETS THE GLOBAL SortedFavoritesString\r\n\t\t\t\tdeferred2.resolve(localStorage.SortedFavoritesString);\r\n\t\t\t\tcookies.setCookie(\"FRefreshSession\", true, 0.025);\r\n\r\n\t\t})\r\n\t\t.fail(function(){\r\n\t\t\tlist.NoListLockout=true;\r\n\t\t\trefreshingList=false;\r\n\t\t\tconsole.log('AJAX REQUEST FOR RECENT STREAMS FAILED!')\r\n\r\n\t\t});\r\n\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\nmodule.exports= streamUtils;\r\n\n},{}]},{},[1]);\n"]}